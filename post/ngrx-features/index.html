<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Sraban Pahadasingh @Full Stack Developer: PHP, CodeIgniter, LARAVEL, ANGULAR 6-7-8, React Js, Ionic.">
    <meta name="author" content="Sraban Pahadasingh">

    <title>ngRx Features :: &lt;/&gt; FullStack Developer</title>

    <!-- rss feed url -->
    <link rel="alternate" type="application/rss+xml" title="&lt;/&gt; FullStack Developer" href="https://sraban.github.io/rss.xml"/>

    <!-- favicon -->
    <link rel="shortcut icon" href="/favicon.ico"/>
    <link rel="shortcut icon" href="https://sraban.github.io/favicon.ico"/>

    <!-- Bootstrap CSS file -->
    <link href="https://sraban.github.io/js/plugins/bootstrap-3.0.3/css/united.min.css" rel="stylesheet"/>
    <link href="https://sraban.github.io/js/plugins/font-awesome-4.1.0/css/font-awesome.min.css" rel="stylesheet">
    <link href="https://sraban.github.io/js/plugins/bootstrap-3.0.3/plugins/social-buttons.css" rel="stylesheet"/>

    <!-- syntax highlighter css file -->
    <link href="https://sraban.github.io/js/plugins/highlight/styles/github.css" rel="stylesheet"/>

    <!-- lightbox for images -->
    <link href="https://sraban.github.io/js/plugins/lightbox/ekko-lightbox.min.css" rel="stylesheet"/>

    <!-- blog custom CSS file -->
    <link href="https://sraban.github.io/css/style.css" rel="stylesheet"/>
</head><body>
<!-- Header -->
<header class="navbar navbar-default
 navbar-fixed-top bs-docs-nav" role="banner">
    <div class="container">

        <div class="navbar-header">
            <button class="navbar-toggle" type="button" data-toggle="collapse" data-target=".bs-navbar-collapse">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>

            <a href="https://sraban.github.io" class="navbar-brand">&lt;/&gt; FullStack Developer</a>
        </div>

        <nav class="collapse navbar-collapse bs-navbar-collapse" role="navigation">
            <div class="navbar-form navbar-right" role="search">
                <div class="form-group">
                    <input type="text" class="searchQuery form-control" placeholder="Search Posts">
                </div>

                <button type="button" class="searchButton btn btn-default"><i class="glyphicon glyphicon-search"></i>
                    Submit
                </button>
            </div>

            <ul class="nav navbar-nav page-links">
                    <li><a href="https://sraban.github.io/page/about">About</a></li>
                    <li><a href="https://sraban.github.io/page/contact">Contact</a></li>
            </ul>

        </nav>
    </div>
</header>
<div class="container">
    <div class="row">
        <div class="col-md-8 main-content">
            <article>
                <h3>ngRx Features</h3>
                <span class="glyphicon glyphicon-user"></span> Sraban Pahadasingh
                &nbsp;&nbsp;
                <span class="glyphicon glyphicon-time"></span> June 25, 2024 01:24 AM
                <hr>

                <p class="post-content"><p>NgRx (pronounced &quot;N-G-R-X&quot;) is a powerful library for managing state in Angular applications using reactive programming principles. It is built on top of <a href="https://rxjs.dev/">RxJS</a>, which provides a way to compose asynchronous and event-based programs using observable sequences. NgRx follows the Redux pattern, a predictable state container for JavaScript applications, making it easier to manage and debug the state of your application. Hereâ€™s a detailed breakdown of NgRx and its core concepts:</p>
<p>Imagine NgRx as a well-organized factory. Each part of the factory represents a core concept:</p>
<ul>
<li><strong>Store</strong>: This is the warehouse where all the finished products (state) are stored. It's a single, central location where everything is neatly organized and immutable.</li>
<li><strong>Actions</strong>: These are the orders or requests that come into the factory, specifying what products (state changes) need to be made.</li>
<li><strong>Reducers</strong>: These are the machines in the factory that process raw materials (current state and actions) and produce new products (new state).</li>
<li><strong>Selectors</strong>: These are the quality inspectors that check the products (state) and pick out the parts that are needed.</li>
<li><strong>Effects</strong>: These are the logistic operations that handle external interactions like fetching raw materials (data fetching) and ensure that everything is running smoothly.</li>
</ul>
<h3>Core Concepts of NgRx</h3>
<ol>
<li>
<p><strong>Store</strong></p>
<ul>
<li>The <strong>Store</strong> is a single source of truth that holds the state of your application. It is an immutable object tree in which the state is represented as a plain JavaScript object. You can think of it as a database that holds all the state of your application.</li>
<li>Example:</li>
</ul>
<pre><code class="language-typescript">
    interface AppState {
     counter: number;
    }
</code></pre>
</li>
<li>
<p><strong>Actions</strong></p>
<ul>
<li><strong>Actions</strong> are payloads of information that send data from your application to your store. They are the only source of information for the store and follow a strict structure with a <code>type</code> field that describes the action being performed and an optional <code>payload</code>.</li>
<li>Example:</li>
</ul>
<pre><code class="language-typescript">
    export const increment = createAction('[Counter] Increment');
    export const decrement = createAction('[Counter] Decrement');
    export const reset = createAction('[Counter] Reset');
</code></pre>
</li>
<li>
<p><strong>Reducers</strong></p>
<ul>
<li><strong>Reducers</strong> are pure functions that determine how the state changes in response to an action. They take the current state and an action as arguments and return a new state.</li>
<li>Example:</li>
</ul>
<pre><code class="language-typescript">
    const initialState: AppState = { counter: 0 };

    const counterReducer = createReducer(
     initialState,
     on(increment, state =&gt; ({ counter: state.counter + 1 })),
     on(decrement, state =&gt; ({ counter: state.counter - 1 })),
     on(reset, state =&gt; ({ counter: 0 }))
    );
</code></pre>
</li>
<li>
<p><strong>Selectors</strong></p>
<ul>
<li><strong>Selectors</strong> are pure functions used for obtaining slices of the state from the store. They provide a way to access parts of the state and are memoized to improve performance.</li>
<li>Example:</li>
</ul>
<pre><code class="language-typescript">
    const selectCounter = (state: AppState) =&gt; state.counter;
</code></pre>
</li>
<li>
<p><strong>Effects</strong></p>
<ul>
<li><strong>Effects</strong> handle side effects in NgRx, such as fetching data from a server or logging actions. They listen for dispatched actions, perform operations, and then return new actions to the store.</li>
<li>Example:</li>
</ul>
<pre><code class="language-typescript">
    @Injectable()
    export class CounterEffects {
     loadCounters$ = createEffect(() =&gt;
       this.actions$.pipe(
         ofType(loadCounters),
         mergeMap(() =&gt;
           this.counterService.getAll().pipe(
             map(counters =&gt; loadCountersSuccess({ counters })),
             catchError(error =&gt; of(loadCountersFailure({ error })))
           )
         )
       )
     );

     constructor(
       private actions$: Actions,
       private counterService: CounterService
     ) {}
    }
</code></pre>
</li>
</ol>
<h3>Key Features of NgRx</h3>
<ol>
<li>
<p><strong>State Management</strong></p>
<ul>
<li>NgRx provides a robust state management solution that helps maintain a consistent state across different parts of the application. It encourages the use of a single source of truth and a unidirectional data flow, making state changes predictable and traceable.</li>
</ul>
</li>
<li>
<p><strong>Immutable State</strong></p>
<ul>
<li>The state in NgRx is immutable, meaning it cannot be changed directly. Instead, new states are created based on actions and the current state, which helps prevent accidental mutations and simplifies debugging.</li>
</ul>
</li>
<li>
<p><strong>Reactive Programming</strong></p>
<ul>
<li>NgRx leverages RxJS to handle asynchronous operations and state changes reactively. Observables and operators allow for powerful state management patterns and efficient handling of async data flows.</li>
</ul>
</li>
<li>
<p><strong>DevTools Integration</strong></p>
<ul>
<li>NgRx integrates with Redux DevTools, providing time-travel debugging and state inspection. This makes it easier to understand and debug the state changes in your application.</li>
</ul>
</li>
<li>
<p><strong>Modularity</strong></p>
<ul>
<li>NgRx encourages modular code organization by separating concerns through actions, reducers, selectors, and effects. This separation improves code maintainability and readability.</li>
</ul>
</li>
<li><strong>Side Effects Management</strong>
<ul>
<li>NgRx effects handle side effects such as API calls, ensuring that business logic and state management are decoupled and maintainable.</li>
</ul></li>
</ol>
<h3>Examples and Use Cases</h3>
<h4>Basic Counter Example</h4>
<ol>
<li>
<p><strong>Action Definitions</strong>:</p>
<pre><code class="language-typescript">
    export const increment = createAction('[Counter] Increment');
    export const decrement = createAction('[Counter] Decrement');
    export const reset = createAction('[Counter] Reset');
</code></pre>
</li>
<li>
<p><strong>Reducer</strong>:</p>
<pre><code class="language-typescript">
    const initialState: AppState = { counter: 0 };

    const counterReducer = createReducer(
     initialState,
     on(increment, state =&gt; ({ counter: state.counter + 1 })),
     on(decrement, state =&gt; ({ counter: state.counter - 1 })),
     on(reset, state =&gt; ({ counter: 0 }))
    );
</code></pre>
</li>
<li>
<p><strong>Selector</strong>:</p>
<pre><code class="language-typescript">
    const selectCounter = (state: AppState) =&gt; state.counter;
</code></pre>
</li>
<li>
<p><strong>Component Integration</strong>:</p>
<pre><code class="language-typescript">
    @Component({
     selector: 'app-counter',
     template: `
       &lt;div&gt;Current Count: {{ counter$ | async }}&lt;/div&gt;
       &lt;button (click)="increment()"&gt;Increment&lt;/button&gt;
       &lt;button (click)="decrement()"&gt;Decrement&lt;/button&gt;
       &lt;button (click)="reset()"&gt;Reset&lt;/button&gt;
     `
    })
    export class CounterComponent {
     counter$ = this.store.select(selectCounter);

     constructor(private store: Store&lt;AppState&gt;) {}

     increment() {
       this.store.dispatch(increment());
     }

     decrement() {
       this.store.dispatch(decrement());
     }

     reset() {
       this.store.dispatch(reset());
     }
    }
</code></pre>
</li>
</ol>
<p>NgRx, a popular state management library for Angular applications, has evolved significantly over time. If you're looking for the &quot;old&quot; NgRx structure, you might be interested in the architecture and practices that were common before the significant changes introduced in NgRx version 8 and later.</p>
<p>Below is an overview of the old NgRx structure, covering key concepts such as actions, reducers, effects, selectors, and how they were typically organized and used in Angular applications.</p>
<h2>Old NgRx Structure (Pre-NgRx 8)</h2>
<h3>1. <strong>Actions</strong></h3>
<p>Actions are payloads of information that are dispatched to the store to signal the type of change or operation to be performed.</p>
<p><strong>Typical Structure:</strong></p>
<ul>
<li><strong>Action Creators:</strong> Actions were typically created as classes with <code>type</code> properties, often defined as string constants.</li>
</ul>
<p><strong>Example:</strong></p>
<pre><code class="language-typescript">
    // action-types.ts
    export const ADD_ITEM = '[Item] Add Item';
    export const REMOVE_ITEM = '[Item] Remove Item';

    // item.actions.ts
    import { Action } from '@ngrx/store';
    import { Item } from './item.model';

    export class AddItem implements Action {
      readonly type = ADD_ITEM;
      constructor(public payload: Item) {}
    }

    export class RemoveItem implements Action {
      readonly type = REMOVE_ITEM;
      constructor(public payload: number) {} // payload could be an ID
    }

    export type All = AddItem | RemoveItem;
</code></pre>
<h3>2. <strong>Reducers</strong></h3>
<p>Reducers are functions that specify how the state changes in response to an action. They are pure functions that take the current state and an action, returning the new state.</p>
<p><strong>Typical Structure:</strong></p>
<ul>
<li>Reducers were often defined in a single file with a switch-case statement to handle different action types.</li>
</ul>
<p><strong>Example:</strong></p>
<pre><code class="language-typescript">
    // item.reducer.ts
    import { ADD_ITEM, REMOVE_ITEM } from './action-types';
    import { Item } from './item.model';
    import * as ItemActions from './item.actions';

    export interface ItemState {
      items: Item[];
    }

    const initialState: ItemState = {
      items: []
    };

    export function itemReducer(state: ItemState = initialState, action: ItemActions.All): ItemState {
      switch (action.type) {
        case ADD_ITEM:
          return {
            ...state,
            items: [...state.items, action.payload]
          };
        case REMOVE_ITEM:
          return {
            ...state,
            items: state.items.filter(item =&gt; item.id !== action.payload)
          };
        default:
          return state;
      }
    }
</code></pre>
<h3>3. <strong>Selectors</strong></h3>
<p>Selectors are used to query slices of the state tree, typically defined in the reducer file.</p>
<p><strong>Typical Structure:</strong></p>
<ul>
<li>Selectors were simple functions that extracted parts of the state.</li>
</ul>
<p><strong>Example:</strong></p>
<pre><code class="language-typescript">
    // item.selectors.ts
    import { createFeatureSelector, createSelector } from '@ngrx/store';
    import { ItemState } from './item.reducer';

    export const selectItemState = createFeatureSelector&lt;ItemState&gt;('items');

    export const selectAllItems = createSelector(
      selectItemState,
      (state: ItemState) =&gt; state.items
    );
</code></pre>
<h3>4. <strong>Effects</strong></h3>
<p>Effects are used to handle side effects like HTTP requests or other asynchronous operations. They listen to actions dispatched to the store and perform tasks without affecting the state directly.</p>
<p><strong>Typical Structure:</strong></p>
<ul>
<li>Effects were typically defined in a separate file and used observables to handle side effects.</li>
</ul>
<p><strong>Example:</strong></p>
<pre><code class="language-typescript">
    // item.effects.ts
    import { Injectable } from '@angular/core';
    import { Actions, Effect, ofType } from '@ngrx/effects';
    import { Observable } from 'rxjs';
    import { map, mergeMap } from 'rxjs/operators';
    import { ItemService } from './item.service';
    import * as ItemActions from './item.actions';

    @Injectable()
    export class ItemEffects {
      @Effect()
      loadItems$: Observable&lt;ItemActions.All&gt; = this.actions$.pipe(
        ofType(ItemActions.ADD_ITEM),
        mergeMap(action =&gt;
          this.itemService.getItems().pipe(
            map(items =&gt; new ItemActions.AddItem(items))
          )
        )
      );

      constructor(private actions$: Actions, private itemService: ItemService) {}
    }
</code></pre>
<h3>5. <strong>Store Module Configuration</strong></h3>
<p>The <code>StoreModule</code> and <code>EffectsModule</code> were typically configured in the <code>AppModule</code> or a feature module.</p>
<p><strong>Typical Structure:</strong></p>
<ul>
<li>Modules were configured to import <code>StoreModule</code> and <code>EffectsModule</code> with reducers and effects.</li>
</ul>
<p><strong>Example:</strong></p>
<pre><code class="language-typescript">
    // app.module.ts
    import { BrowserModule } from '@angular/platform-browser';
    import { NgModule } from '@angular/core';
    import { StoreModule } from '@ngrx/store';
    import { EffectsModule } from '@ngrx/effects';
    import { itemReducer } from './items/item.reducer';
    import { ItemEffects } from './items/item.effects';

    @NgModule({
      declarations: [
        // components
      ],
      imports: [
        BrowserModule,
        StoreModule.forRoot({ items: itemReducer }),
        EffectsModule.forRoot([ItemEffects])
      ],
      providers: [],
      bootstrap: [/* main component */]
    })
    export class AppModule { }
</code></pre>
<h3>6. <strong>Feature Modules</strong></h3>
<p>For larger applications, NgRx structure typically involved feature modules to encapsulate related actions, reducers, effects, and selectors.</p>
<p><strong>Example:</strong></p>
<pre><code class="language-typescript">
    // items.module.ts
    import { NgModule } from '@angular/core';
    import { CommonModule } from '@angular/common';
    import { StoreModule } from '@ngrx/store';
    import { EffectsModule } from '@ngrx/effects';
    import { itemReducer } from './item.reducer';
    import { ItemEffects } from './item.effects';

    @NgModule({
      imports: [
        CommonModule,
        StoreModule.forFeature('items', itemReducer),
        EffectsModule.forFeature([ItemEffects])
      ],
      declarations: [
        // components
      ]
    })
    export class ItemsModule {}
</code></pre>
<h3>7. <strong>Deprecations and Evolutions</strong></h3>
<p>Many of these patterns have evolved, with NgRx introducing more concise ways to define actions and reducers. Action creators, <code>createReducer</code>, and <code>createEffect</code> functions were introduced to simplify and streamline the code.</p>
<h3>Summary</h3>
<p>The old NgRx structure focused on a more verbose way of defining actions, reducers, and effects. Over time, the library has introduced new APIs and practices to reduce boilerplate and make the code more maintainable and concise.</p>
<p>For modern practices and more efficient ways to manage state using NgRx, consider looking into the latest NgRx documentation and best practices.</p>
<h4><strong>Old &amp; New Changes:</strong></h4>
<p><img src="https://i.imgur.com/8D3Jjy9.png" alt="enter image description here" /></p></p>
                <br/><br/>

                <div class="post-info">
                        <span class="glyphicon glyphicon-folder-open"></span> &nbsp;
                        <a href="https://sraban.github.io/category/javascript">Javascript</a>
                        &nbsp;&nbsp;

                    <span class="glyphicon glyphicon-bookmark"></span>

                        <a href="https://sraban.github.io/tag/Javascript">Javascript</a>&nbsp;&nbsp;
                </div>

            </article>
            <hr/>

            <div class="text-center clearfix">
                <div class="col-sm-4 col-md-4">
                    <a class="prevpost btn btn-primary"><i class="fa fa-chevron-circle-left"></i> Prev Post</a>
                </div>
                <div class="col-sm-4 col-md-4">
                    <a class="btn btn-primary" href="https://sraban.github.io/posts.html"><i class="fa fa-navicon"></i> View All
                        Post</a>
                </div>
                <div class="col-sm-4 col-md-4">
                    <a class="nextpost btn btn-primary"><i class="fa fa-chevron-circle-right"></i> Next Post</a>
                </div>
            </div>

            <hr/>
            
            <!-- Comment form -->
            <div class="well">
                <div id="disqus_thread"></div>
                <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">Comments
                    powered by Disqus.</a></noscript>
                <a href="http://disqus.com" class="dsq-brlink">Comments powered by
                    <span class="logo-disqus">Disqus</span></a>
            </div>

        </div>

        <div class="sidebar col-md-4">
        
            <!-- Follow Panel -->
                <div class="panel panel-primary text-center">
                    <div class="panel-heading">
                        <strong>Follow Me</strong>
                    </div>
        
                    <div class="panel-body">
                        <a target="_blank" href="https://sraban.github.io/rss.xml" class="btn btn-social-icon btn-outline"><i class="fa fa-rss"></i></a>
        
                            <a target="_blank" href="https://twitter.com/srabann" class="btn btn-social-icon btn-twitter"><i class="fa fa-twitter"></i></a>
                            <a target="_blank" href="https://www.linkedin.com/in/sraban/" class="btn btn-social-icon btn-linkedin"><i class="fa fa-linkedin"></i></a>
                            <a target="_blank" href="https://github.com/sraban" class="btn btn-social-icon btn-github"><i class="fa fa-github"></i></a>
                            <a target="_blank" href="https://www.facebook.com/spahadasingh" class="btn btn-social-icon btn-facebook"><i class="fa fa-facebook"></i></a>
                    </div>
                </div>
        
            <!-- Custom Values from Settings page -->
                <div class="panel panel-primary">
                    <div class="panel-heading">
                        <strong>Resources</strong>
                    </div>
                    <div class="panel-body"> <a href="https://sraban.github.io/gpt">Notes</a> | <a href="https://sraban.github.io/snippet">Snippets</a> </div>	
                </div>
        
            <!-- Latest Posts -->
            <div class="panel panel-primary">
                <div class="panel-heading">
                    <strong>Latest Posts</strong>
                </div>
        
                <ul class="list-group">
                        <li class="list-group-item"><a href="https://sraban.github.io/post/differences-in-structure-angular-vs-laravel">Differences in Structure: Angular vs Laravel</a></li>
                        <li class="list-group-item"><a href="https://sraban.github.io/post/use-cases-of-async-await">Use cases of async / await</a></li>
                        <li class="list-group-item"><a href="https://sraban.github.io/post/newly-added-html-features">Newly added HTML features</a></li>
                        <li class="list-group-item"><a href="https://sraban.github.io/post/common-errors-in-js-and-from-rest-api">Common Errors in JS and from Rest API</a></li>
                        <li class="list-group-item"><a href="https://sraban.github.io/post/ngrx-features">ngRx Features</a></li>
                </ul>
            </div>
        
            <!-- Categories -->
            <div class="panel panel-primary">
                <div class="panel-heading">
                    <strong>Categories</strong>
                </div>
        
                <ul class="list-group">
                        <li class="list-group-item"><a href="https://sraban.github.io/category/database">Database</a></li>
                        <li class="list-group-item"><a href="https://sraban.github.io/category/design-patterns">Design Patterns</a></li>
                        <li class="list-group-item"><a href="https://sraban.github.io/category/html">HTML</a></li>
                        <li class="list-group-item"><a href="https://sraban.github.io/category/javascript">Javascript</a></li>
                        <li class="list-group-item"><a href="https://sraban.github.io/category/linux">Linux</a></li>
                        <li class="list-group-item"><a href="https://sraban.github.io/category/php">PHP</a></li>
                </ul>
            </div>
        
            <!-- Archives -->
                <div class="panel panel-primary">
                    <div class="panel-heading">
                        <strong>Archives</strong>
                    </div>
        
                    <ul class="archives list-group"><li class="list-group-item archive_link"><a href="https://sraban.github.io/archive/september-2024">September 2024</a></li><li class="list-group-item archive_link"><a href="https://sraban.github.io/archive/july-2024">July 2024</a></li><li class="list-group-item archive_link"><a href="https://sraban.github.io/archive/june-2024">June 2024</a></li><li class="list-group-item archive_link"><a href="https://sraban.github.io/archive/april-2020">April 2020</a></li></ul>
                </div>
        
            <!-- Tags -->
                <div class="panel panel-primary">
                    <div class="panel-heading">
                        <strong>Tags Cloud</strong>
                    </div>
        
                    <div class="panel-body">
                        <ul class="list-inline">
                            <a style="font-size: 12px" class="tag_cloud" href="https://sraban.github.io/tag/command" title="1 total posts" data-original-title="2 total posts" data-toggle="tooltip">command</a>
<a style="font-size: 18px" class="tag_cloud" href="https://sraban.github.io/tag/common" title="6 total posts" data-original-title="7 total posts" data-toggle="tooltip">common</a>
<a style="font-size: 12px" class="tag_cloud" href="https://sraban.github.io/tag/html" title="1 total posts" data-original-title="2 total posts" data-toggle="tooltip">HTML</a>
<a style="font-size: 30px" class="tag_cloud" href="https://sraban.github.io/tag/javascript" title="15 total posts" data-original-title="16 total posts" data-toggle="tooltip">Javascript</a>
<a style="font-size: 12px" class="tag_cloud" href="https://sraban.github.io/tag/javascript" title="1 total posts" data-original-title="2 total posts" data-toggle="tooltip">javascript</a>
<a style="font-size: 12px" class="tag_cloud" href="https://sraban.github.io/tag/mysql" title="1 total posts" data-original-title="2 total posts" data-toggle="tooltip">MySQL</a>
<a style="font-size: 14px" class="tag_cloud" href="https://sraban.github.io/tag/php" title="3 total posts" data-original-title="4 total posts" data-toggle="tooltip">PHP</a>
<a style="font-size: 12px" class="tag_cloud" href="https://sraban.github.io/tag/server" title="1 total posts" data-original-title="2 total posts" data-toggle="tooltip">Server</a>

                        </ul>
                    </div>
                </div>
            </div>

    </div>
</div>

<!-- Footer -->
<footer>
    <div class="container">
        <hr/>
        <p class="text-center">Published by <strong>Sraban Kumar</strong></p>
    </div>
</footer>

<!-- Jquery and Bootstrap Script files -->
<script src="https://sraban.github.io/js/jquery-2.0.3.min.js"></script>
<script src="https://sraban.github.io/js/plugins/bootstrap-3.0.3/js/bootstrap.min.js"></script>
<script src="https://sraban.github.io/js/plugins/highlight/highlight.pack.js"></script>
<script src="https://sraban.github.io/js/plugins/lightbox/ekko-lightbox.min.js"></script>

<script>
    var __blogURL = 'https://sraban.github.io';
</script>

<script src="https://sraban.github.io/js/blog.js"></script>
<script src="https://sraban.github.io/js/search.js"></script>


</body>
</html>
<!-- for pagination -->
<script>
    $(function () {

        ///////////////////////////////////////////////////
        // class/id/selector of prev link
        var $prevPostSelector = $('.prevpost');
        var $nextPostSelector = $('.nextpost');
        ///////////////////////////////////////////////////

        var pageArray = document.location.href.split('/');
        var currentPageSlug = pageArray[pageArray.length - 1];

        if (!currentPageSlug) {
            currentPageSlug = pageArray[pageArray.length - 2];
        }

        $.ajax({
            url: __blogURL + "/data/blog.json",
            type: "GET",
            dataType: "json",
            success: function (data) {
                if (data.posts !== undefined && data.posts !== null) {
                    $.each(data.posts, function (i, post) {
                        if (post.slug === currentPageSlug || post.slug + '/' === currentPageSlug) {

                            var prevPost = data.posts[i - 1];
                            var nextPost = data.posts[i + 1];

                            if (prevPost === undefined || prevPost === null) {
                                // hide previous link if it is first post
                                $prevPostSelector.hide();
                            }
                            else {
                                $prevPostSelector.attr('href', __blogURL + '/post/' + prevPost.slug);
                            }

                            if (nextPost === undefined || nextPost === null) {
                                // hide previous link if it is last post
                                $nextPostSelector.hide();
                            }
                            else {
                                $nextPostSelector.attr('href', __blogURL + '/post/' + nextPost.slug);
                            }

                            return false; // break out of each
                        }
                    });
                }
            },
            error: function (e) {
                $prevPostSelector.hide();
                $nextPostSelector.hide();
            }
        });

        // for Disqus
        var disqus_shortname = '';
        var dsq = document.createElement('script');
        dsq.type = 'text/javascript';
        dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);

    });
</script>
