<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="generator" content="BloggerCMS" />
    <meta name="description" content="Sraban Pahadasingh @Full Stack Developer: PHP, CodeIgniter, LARAVEL, ANGULAR 6-7-8, React Js, Ionic.">
    <meta name="author" content="Sraban Pahadasingh">

    <title>ES6 Snippets :: &lt;/&gt; FullStack Developer</title>

    <!-- rss feed url -->
    <link rel="alternate" type="application/rss+xml" title="&lt;/&gt; FullStack Developer" href="https://sraban.github.io/rss.xml"/>

    <!-- favicon -->
    <link rel="shortcut icon" href="/favicon.ico"/>
    <link rel="shortcut icon" href="https://sraban.github.io/favicon.ico"/>

    <!-- Bootstrap CSS file -->
    <link href="https://sraban.github.io/js/plugins/bootstrap-3.0.3/css/united.min.css" rel="stylesheet"/>
    <link href="https://sraban.github.io/js/plugins/font-awesome-4.1.0/css/font-awesome.min.css" rel="stylesheet">
    <link href="https://sraban.github.io/js/plugins/bootstrap-3.0.3/plugins/social-buttons.css" rel="stylesheet"/>

    <!-- syntax highlighter css file -->
    <link href="https://sraban.github.io/js/plugins/highlight/styles/github.css" rel="stylesheet"/>

    <!-- lightbox for images -->
    <link href="https://sraban.github.io/js/plugins/lightbox/ekko-lightbox.min.css" rel="stylesheet"/>

    <!-- blog custom CSS file -->
    <link href="https://sraban.github.io/css/style.css" rel="stylesheet"/>
</head><body>
<!-- Header -->
<header class="navbar navbar-default
 navbar-fixed-top bs-docs-nav" role="banner">
    <div class="container">

        <div class="navbar-header">
            <button class="navbar-toggle" type="button" data-toggle="collapse" data-target=".bs-navbar-collapse">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>

            <a href="https://sraban.github.io" class="navbar-brand">&lt;/&gt; FullStack Developer</a>
        </div>

        <nav class="collapse navbar-collapse bs-navbar-collapse" role="navigation">
            <div class="navbar-form navbar-right" role="search">
                <div class="form-group">
                    <input type="text" class="searchQuery form-control" placeholder="Search Posts">
                </div>

                <button type="button" class="searchButton btn btn-default"><i class="glyphicon glyphicon-search"></i>
                    Submit
                </button>
            </div>

            <ul class="nav navbar-nav page-links">
                    <li><a href="https://sraban.github.io/page/about">About</a></li>
                    <li><a href="https://sraban.github.io/page/contact">Contact</a></li>
            </ul>

        </nav>
    </div>
</header>
<div class="container">
    <div class="row">
        <div class="col-md-8 main-content">
            <article>
                <h3>ES6 Snippets</h3>
                <span class="glyphicon glyphicon-user"></span> Sraban Pahadasingh
                &nbsp;&nbsp;
                <span class="glyphicon glyphicon-time"></span> July 12, 2021 11:27 AM
                <hr>

                <p class="post-content"><p>In this article I tried to sort them based on their practical use, answering common questions you may face in your project:</p>
<p><a href="https://medium.com/swlh/24-modern-es6-code-snippets-to-solve-practical-js-problems-3609f301859e">https://medium.com/swlh/24-modern-es6-code-snippets-to-solve-practical-js-problems-3609f301859e</a></p>
<p>1.How to hide all elements specified?
const hide = (...el) =&gt; [...el].forEach(e =&gt; (e.style.display = 'none'));</p>
<p>// Example
hide(document.querySelectorAll('img')); // Hides all <img> elements on the page
2.How to check if the element has the specified class?
const hasClass = (el, className) =&gt; el.classList.contains(className);</p>
<p>// Example
hasClass(document.querySelector('p.special'), 'special'); // true
3.How to toggle a class for an element?
const toggleClass = (el, className) =&gt; el.classList.toggle(className);</p>
<p>// Example
toggleClass(document.querySelector('p.special'), 'special');
// The paragraph will not have the 'special' class anymore
4.How to get the scroll position of the current page?
const getScrollPosition = (el = window) =&gt; ({
x: el.pageXOffset !== undefined ? el.pageXOffset : el.scrollLeft,
y: el.pageYOffset !== undefined ? el.pageYOffset : el.scrollTop
});</p>
<p>// Example
getScrollPosition(); // {x: 0, y: 200}
5.How to smooth-scroll to the top of the page?
const scrollToTop = () =&gt; {
const c = document.documentElement.scrollTop || document.body.scrollTop;
if (c &gt; 0) {
window.requestAnimationFrame(scrollToTop);
window.scrollTo(0, c - c / 8);
}
};</p>
<p>// Example
scrollToTop();
6.How to check if the parent element contains the child element?
const elementContains = (parent, child) =&gt; parent !== child &amp;&amp; parent.contains(child);</p>
<p>// Examples
elementContains(document.querySelector('head'), document.querySelector('title'));
// true
elementContains(document.querySelector('body'), document.querySelector('body')); // false
7.How to check if the element specified is visible in the viewport?
const elementIsVisibleInViewport = (el, partiallyVisible = false) =&gt; {
const { top, left, bottom, right } = el.getBoundingClientRect();
const { innerHeight, innerWidth } = window;
return partiallyVisible
? ((top &gt; 0 &amp;&amp; top &lt; innerHeight) || (bottom &gt; 0 &amp;&amp; bottom &lt; innerHeight)) &amp;&amp;
((left &gt; 0 &amp;&amp; left &lt; innerWidth) || (right &gt; 0 &amp;&amp; right &lt; innerWidth))
: top &gt;= 0 &amp;&amp; left &gt;= 0 &amp;&amp; bottom &lt;= innerHeight &amp;&amp; right &lt;= innerWidth;
};</p>
<p>// Examples
elementIsVisibleInViewport(el); // (not fully visible)
elementIsVisibleInViewport(el, true); // (partially visible)
8.How to fetch all images within an element?
const getImages = (el, includeDuplicates = false) =&gt; {
const images = [...el.getElementsByTagName('img')].map(img =&gt; img.getAttribute('src'));
return includeDuplicates ? images : [...new Set(images)];
};</p>
<p>// Examples
getImages(document, true); // ['image1.jpg', 'image2.png', 'image1.png', '...']
getImages(document, false); // ['image1.jpg', 'image2.png', '...']
9.How to figure out if the device is a mobile device or a desktop/laptop?
const detectDeviceType = () =&gt;
/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)
? 'Mobile'
: 'Desktop';</p>
<p>// Example
detectDeviceType(); // &quot;Mobile&quot; or &quot;Desktop&quot;
10.How to get the current URL?
const currentURL = () =&gt; window.location.href;</p>
<p>// Example
currentURL(); // '<a href="https://google.com">https://google.com</a>'
11.How to create an object containing the parameters of the current URL?
const getURLParameters = url =&gt;
(url.match(/([^?=&amp;]+)(=([^&amp;]*))/g) || []).reduce(
(a, v) =&gt; ((a[v.slice(0, v.indexOf('='))] = v.slice(v.indexOf('=') + 1)), a),
{}
);</p>
<p>// Examples
getURLParameters('<a href="http://url.com/page?n=Adam&s=Smith">http://url.com/page?n=Adam&s=Smith</a>'); // {n: 'Adam', s: 'Smith'}
getURLParameters('google.com'); // {}
12.How to encode a set of form elements as an object?
const formToObject = form =&gt;
Array.from(new FormData(form)).reduce(
(acc, [key, value]) =&gt; ({
...acc,</p>
<pre><code>}),
{}</code></pre>
<p>);</p>
<p>// Example
formToObject(document.querySelector('#form')); // { email: 'test@email.com', name: 'Test Name' }
13.How to retrieve a set of properties indicated by the given selectors from an object?
const get = (from, ...selectors) =&gt;
[...selectors].map(s =&gt;
s
.replace(/[([^[]]*)]/g, '.$1.')
.split('.')
.filter(t =&gt; t !== '')
.reduce((prev, cur) =&gt; prev &amp;&amp; prev[cur], from)
);
const obj = { selector: { to: { val: 'val to select' } }, target: [1, 2, { a: 'test' }] };</p>
<p>// Example
get(obj, 'selector.to.val', 'target[0]', 'target[2].a'); // ['val to select', 1, 'test']
14.How to invoke the provided function after wait (in milliseconds)?
const delay = (fn, wait, ...args) =&gt; setTimeout(fn, wait, ...args);
delay(
function(text) {
console.log(text);
},
1000,
'later'
); </p>
<p>// Logs 'later' after one second.
15.How to trigger a specific event on a given element, optionally passing custom data?
const triggerEvent = (el, eventType, detail) =&gt;
el.dispatchEvent(new CustomEvent(eventType, { detail }));</p>
<p>// Examples
triggerEvent(document.getElementById('myId'), 'click');
triggerEvent(document.getElementById('myId'), 'click', { username: 'bob' });
16.How to remove an event listener from an element?
const off = (el, evt, fn, opts = false) =&gt; el.removeEventListener(evt, fn, opts);</p>
<p>const fn = () =&gt; console.log('!');
document.body.addEventListener('click', fn);
off(document.body, 'click', fn); // no longer logs '!' upon clicking on the page
17.How to get readable format of the given number of milliseconds?
const formatDuration = ms =&gt; {
if (ms &lt; 0) ms = -ms;
const time = {
day: Math.floor(ms / 86400000),
hour: Math.floor(ms / 3600000) % 24,
minute: Math.floor(ms / 60000) % 60,
second: Math.floor(ms / 1000) % 60,
millisecond: Math.floor(ms) % 1000
};
return Object.entries(time)
.filter(val =&gt; val[1] !== 0)
.map(([key, val]) =&gt; <code>${val} ${key}${val !== 1 ? 's' : ''}</code>)
.join(', ');
};</p>
<p>// Examples
formatDuration(1001); // '1 second, 1 millisecond'
formatDuration(34325055574); // '397 days, 6 hours, 44 minutes, 15 seconds, 574 milliseconds'
18.How to get the difference (in days) between two dates?
const getDaysDiffBetweenDates = (dateInitial, dateFinal) =&gt;
(dateFinal - dateInitial) / (1000 <em> 3600 </em> 24);</p>
<p>// Example
getDaysDiffBetweenDates(new Date('2017-12-13'), new Date('2017-12-22')); // 9
19.How to make a GET request to the passed URL?
const httpGet = (url, callback, err = console.error) =&gt; {
const request = new XMLHttpRequest();
request.open('GET', url, true);
request.onload = () =&gt; callback(request.responseText);
request.onerror = () =&gt; err(request);
request.send();
};</p>
<p>httpGet(
'<a href="https://jsonplaceholder.typicode.com/posts/1">https://jsonplaceholder.typicode.com/posts/1</a>',
console.log
); </p>
<p>// Logs: {&quot;userId&quot;: 1, &quot;id&quot;: 1, &quot;title&quot;: &quot;sample title&quot;, &quot;body&quot;: &quot;my text&quot;}
20.How to make a POST request to the passed URL?
const httpPost = (url, data, callback, err = console.error) =&gt; {
const request = new XMLHttpRequest();
request.open('POST', url, true);
request.setRequestHeader('Content-type', 'application/json; charset=utf-8');
request.onload = () =&gt; callback(request.responseText);
request.onerror = () =&gt; err(request);
request.send(data);
};</p>
<p>const newPost = {
userId: 1,
id: 1337,
title: 'Foo',
body: 'bar bar bar'
};
const data = JSON.stringify(newPost);
httpPost(
'<a href="https://jsonplaceholder.typicode.com/posts">https://jsonplaceholder.typicode.com/posts</a>',
data,
console.log
); </p>
<p>// Logs: {&quot;userId&quot;: 1, &quot;id&quot;: 1337, &quot;title&quot;: &quot;Foo&quot;, &quot;body&quot;: &quot;bar bar bar&quot;}
21.How to create a counter with the specified range, step and duration for the specified selector?
const counter = (selector, start, end, step = 1, duration = 2000) =&gt; {
let current = start,
_step = (end - start) * step &lt; 0 ? -step : step,
timer = setInterval(() =&gt; {
current += _step;
document.querySelector(selector).innerHTML = current;
if (current &gt;= end) document.querySelector(selector).innerHTML = end;
if (current &gt;= end) clearInterval(timer);
}, Math.abs(Math.floor(duration / (end - start))));
return timer;
};</p>
<p>// Example
counter('#my-id', 1, 1000, 5, 2000); // Creates a 2-second timer for the element with id=&quot;my-id&quot;
22.How to copy a string to the clipboard?
const copyToClipboard = str =&gt; {
const el = document.createElement('textarea');
el.value = str;
el.setAttribute('readonly', '');
el.style.position = 'absolute';
el.style.left = '-9999px';
document.body.appendChild(el);
const selected =
document.getSelection().rangeCount &gt; 0 ? document.getSelection().getRangeAt(0) : false;
el.select();
document.execCommand('copy');
document.body.removeChild(el);
if (selected) {
document.getSelection().removeAllRanges();
document.getSelection().addRange(selected);
}
};</p>
<p>// Example
copyToClipboard('Lorem ipsum'); // 'Lorem ipsum' copied to clipboard.
23.How to find out if the browser tab of the page is focused?
const isBrowserTabFocused = () =&gt; !document.hidden;</p>
<p>// Example
isBrowserTabFocused(); // true
24.How to create a directory, if it does not exist?
const fs = require('fs');
const createDirIfNotExists = dir =&gt; (!fs.existsSync(dir) ? fs.mkdirSync(dir) : undefined);</p>
<p>// Example
createDirIfNotExists('test'); // creates the directory 'test', if it doesn't exist</p></p>
                <br/><br/>

                <div class="post-info">
                        <span class="glyphicon glyphicon-folder-open"></span> &nbsp;
                        <a href="https://sraban.github.io/category/javascript">Javascript</a>
                        &nbsp;&nbsp;

                    <span class="glyphicon glyphicon-bookmark"></span>

                        <a href="https://sraban.github.io/tag/Javascript">Javascript</a>&nbsp;&nbsp;
                </div>

            </article>
            <hr/>

            <div class="text-center clearfix">
                <div class="col-sm-4 col-md-4">
                    <a class="prevpost btn btn-primary"><i class="fa fa-chevron-circle-left"></i> Prev Post</a>
                </div>
                <div class="col-sm-4 col-md-4">
                    <a class="btn btn-primary" href="https://sraban.github.io/posts.html"><i class="fa fa-navicon"></i> View All
                        Post</a>
                </div>
                <div class="col-sm-4 col-md-4">
                    <a class="nextpost btn btn-primary"><i class="fa fa-chevron-circle-right"></i> Next Post</a>
                </div>
            </div>

            <hr/>
            
            <!-- Comment form -->
            <div class="well">
                <div id="disqus_thread"></div>
                <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">Comments
                    powered by Disqus.</a></noscript>
                <a href="http://disqus.com" class="dsq-brlink">Comments powered by
                    <span class="logo-disqus">Disqus</span></a>
            </div>

        </div>

        <div class="sidebar col-md-4">
        
            <!-- Follow Panel -->
                <div class="panel panel-primary text-center">
                    <div class="panel-heading">
                        <strong>Follow Me</strong>
                    </div>
        
                    <div class="panel-body">
                        <a target="_blank" href="https://sraban.github.io/rss.xml" class="btn btn-social-icon btn-outline"><i class="fa fa-rss"></i></a>
        
                            <a target="_blank" href="https://twitter.com/srabann" class="btn btn-social-icon btn-twitter"><i class="fa fa-twitter"></i></a>
                            <a target="_blank" href="https://www.linkedin.com/in/sraban/" class="btn btn-social-icon btn-linkedin"><i class="fa fa-linkedin"></i></a>
                            <a target="_blank" href="https://github.com/sraban" class="btn btn-social-icon btn-github"><i class="fa fa-github"></i></a>
                            <a target="_blank" href="https://www.facebook.com/spahadasingh" class="btn btn-social-icon btn-facebook"><i class="fa fa-facebook"></i></a>
                    </div>
                </div>
        
            <!-- Custom Values from Settings page -->
        
            <!-- Latest Posts -->
            <div class="panel panel-primary">
                <div class="panel-heading">
                    <strong>Latest Posts</strong>
                </div>
        
                <ul class="list-group">
                        <li class="list-group-item"><a href="https://sraban.github.io/post/packagejson-configuration">package.json configuration</a></li>
                        <li class="list-group-item"><a href="https://sraban.github.io/post/watch-production-errors-issues-important-transactions-from-a-system-mq">Watch - Production Errors &amp; Issues,  Important Transactions from a system MQ</a></li>
                        <li class="list-group-item"><a href="https://sraban.github.io/post/es6-snippets">ES6 Snippets</a></li>
                        <li class="list-group-item"><a href="https://sraban.github.io/post/uses-of-http-guzzle-php">Uses of Http Guzzle PHP</a></li>
                        <li class="list-group-item"><a href="https://sraban.github.io/post/api-rate-limiting">API Rate-Limiting</a></li>
                </ul>
            </div>
        
            <!-- Categories -->
            <div class="panel panel-primary">
                <div class="panel-heading">
                    <strong>Categories</strong>
                </div>
        
                <ul class="list-group">
                        <li class="list-group-item"><a href="https://sraban.github.io/category/database">Database</a></li>
                        <li class="list-group-item"><a href="https://sraban.github.io/category/design-patterns">Design Patterns</a></li>
                        <li class="list-group-item"><a href="https://sraban.github.io/category/javascript">Javascript</a></li>
                        <li class="list-group-item"><a href="https://sraban.github.io/category/linux">Linux</a></li>
                        <li class="list-group-item"><a href="https://sraban.github.io/category/php">PHP</a></li>
                </ul>
            </div>
        
            <!-- Archives -->
                <div class="panel panel-primary">
                    <div class="panel-heading">
                        <strong>Archives</strong>
                    </div>
        
                    <ul class="archives list-group"><li class="list-group-item archive_link"><a href="https://sraban.github.io/archive/june-2024">June 2024</a></li><li class="list-group-item archive_link"><a href="https://sraban.github.io/archive/july-2021">July 2021</a></li><li class="list-group-item archive_link"><a href="https://sraban.github.io/archive/april-2020">April 2020</a></li></ul>
                </div>
        
            <!-- Tags -->
                <div class="panel panel-primary">
                    <div class="panel-heading">
                        <strong>Tags Cloud</strong>
                    </div>
        
                    <div class="panel-body">
                        <ul class="list-inline">
                            <a style="font-size: 12px" class="tag_cloud" href="https://sraban.github.io/tag/command" title="1 total posts" data-original-title="2 total posts" data-toggle="tooltip">command</a>
<a style="font-size: 30px" class="tag_cloud" href="https://sraban.github.io/tag/common" title="6 total posts" data-original-title="7 total posts" data-toggle="tooltip">common</a>
<a style="font-size: 19px" class="tag_cloud" href="https://sraban.github.io/tag/javascript" title="3 total posts" data-original-title="4 total posts" data-toggle="tooltip">Javascript</a>
<a style="font-size: 12px" class="tag_cloud" href="https://sraban.github.io/tag/mysql" title="1 total posts" data-original-title="2 total posts" data-toggle="tooltip">MySQL</a>
<a style="font-size: 15px" class="tag_cloud" href="https://sraban.github.io/tag/php" title="2 total posts" data-original-title="3 total posts" data-toggle="tooltip">PHP</a>
<a style="font-size: 12px" class="tag_cloud" href="https://sraban.github.io/tag/server" title="1 total posts" data-original-title="2 total posts" data-toggle="tooltip">Server</a>

                        </ul>
                    </div>
                </div>
            </div>

    </div>
</div>

<!-- Footer -->
<footer>
    <div class="container">
        <hr/>
        <p class="text-center">Published by <strong>Sraban Kumar</strong></p>
    </div>
</footer>

<!-- Jquery and Bootstrap Script files -->
<script src="https://sraban.github.io/js/jquery-2.0.3.min.js"></script>
<script src="https://sraban.github.io/js/plugins/bootstrap-3.0.3/js/bootstrap.min.js"></script>
<script src="https://sraban.github.io/js/plugins/highlight/highlight.pack.js"></script>
<script src="https://sraban.github.io/js/plugins/lightbox/ekko-lightbox.min.js"></script>

<script>
    var __blogURL = 'https://sraban.github.io';
</script>

<script src="https://sraban.github.io/js/blog.js"></script>
<script src="https://sraban.github.io/js/search.js"></script>


</body>
</html>
<!-- for pagination -->
<script>
    $(function () {

        ///////////////////////////////////////////////////
        // class/id/selector of prev link
        var $prevPostSelector = $('.prevpost');
        var $nextPostSelector = $('.nextpost');
        ///////////////////////////////////////////////////

        var pageArray = document.location.href.split('/');
        var currentPageSlug = pageArray[pageArray.length - 1];

        if (!currentPageSlug) {
            currentPageSlug = pageArray[pageArray.length - 2];
        }

        $.ajax({
            url: __blogURL + "/data/blog.json",
            type: "GET",
            dataType: "json",
            success: function (data) {
                if (data.posts !== undefined && data.posts !== null) {
                    $.each(data.posts, function (i, post) {
                        if (post.slug === currentPageSlug || post.slug + '/' === currentPageSlug) {

                            var prevPost = data.posts[i - 1];
                            var nextPost = data.posts[i + 1];

                            if (prevPost === undefined || prevPost === null) {
                                // hide previous link if it is first post
                                $prevPostSelector.hide();
                            }
                            else {
                                $prevPostSelector.attr('href', __blogURL + '/post/' + prevPost.slug);
                            }

                            if (nextPost === undefined || nextPost === null) {
                                // hide previous link if it is last post
                                $nextPostSelector.hide();
                            }
                            else {
                                $nextPostSelector.attr('href', __blogURL + '/post/' + nextPost.slug);
                            }

                            return false; // break out of each
                        }
                    });
                }
            },
            error: function (e) {
                $prevPostSelector.hide();
                $nextPostSelector.hide();
            }
        });

        // for Disqus
        var disqus_shortname = '';
        var dsq = document.createElement('script');
        dsq.type = 'text/javascript';
        dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);

    });
</script>
